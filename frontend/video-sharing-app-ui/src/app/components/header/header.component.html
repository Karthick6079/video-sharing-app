
    
    <mat-toolbar color="primary" class="header-container">
        <mat-toolbar-row class="header">
           <div class="logo-brand-name">
            <button mat-icon-button  aria-label="brand name" class="humburger-menu" (click)="showSideBar()">
              <i class="material-icons">dehaze</i>
            </button>
            <h2 class="app-brand-name" (click)="navigateToHome()">Livra</h2>
           </div>

            <!-- <span class="example-spacer"></span> -->

            <!--Not show the search bar inside studio i.e video upload page-->
            <div class="search-container" *ngIf="!hideSearchBar">
              <input type="text" [formControl]="searchControl" placeholder="Search..." name="search" class="search-input" (keydown.enter)="searchVideos()">
              <button class = "search-button" type="button" (click)="searchVideos()"><i class="pi pi-search"></i></button>
            </div>

            
            @if (isAuthenticated) {

              <div style="display: flex;">
                <button mat-icon-button aria-label="Studio icon button to upload a video" routerLink="studio/upload" *ngIf="!hideStudioButton&&!isNewMobileScreen"> 
                  <mat-icon>video_call</mat-icon>
                </button>
  
                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Account Info">
                  <!-- <img [src]="userPictureUrl" alt="Photo of a User"> -->
                  <div class="user-avatar-wrapper">
                    <img [src]="userPictureUrl" alt="User Avatar" class="user-avatar" (error)="onAvatarError()"
                        *ngIf="!avatarError" />
                    <div class="user-avatar-fallback" *ngIf="avatarError">
                        {{ getUserInitials(name) }}
                    </div>
                </div>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item>
                    <mat-icon>perm_identity</mat-icon>
                    <span>{{name}}</span>
                  </button>
                  <button mat-menu-item (click)="logout()">
                    <mat-icon>logout</mat-icon>
                    <span>Sign out</span>
                  </button>
                </mat-menu>
              </div>
            } @else {
              <button mat-flat-button (click)="login()" class="bold-user-button">Sign in</button>
              <button mat-icon-button (click)="login()" class="icon-user-button"><mat-icon>perm_identity</mat-icon></button>
            }
          </mat-toolbar-row>
    </mat-toolbar>


    